// populateCompanyData() generates HTML to select team members for
// both the insights table and the user-profile chat targets.
// These suffixes disambiguate element names:
var _teamInsightsNameSuffix = "_teaminsights";
var _chatTargetsNameSuffix = "_chattargets";

var _teamResultsSuffix = 'about selected team members.';
var _assessmentsResultsSuffix = 'about team members who have any of the selected assessment results.';

var _insightsTable; // Generated by Tabulator
var _csvResultsTable; // Generated by Tabulator 

var _titles = new Map();
_titles.set('logindiv', 'Please log in');
_titles.set('teaminsightsdiv', 'Team insights');
_titles.set('manageteamsdiv', 'Manage company');
_titles.set('editmyprofilediv', 'My profile');

var _pages = new Map();
// Link available on all pages:
_pages.set('logindiv', '{"name":"Log out", "extraFx": "cacheLoggingOut();logOut();", "hideAllOtherPageLinks":"true"}');
_pages.set('teaminsightsdiv');
// Link only available to admin:
_pages.set('manageteamsdiv', '{"adminPage": "true"}');
// Links unavailable to admin:
_pages.set('editmyprofilediv', '{"adminPage": "false", "extraFx": "toggleAdminEditingDisplay();"}');

// Identifies assessment types (e.g. Enneagram) that display fine-grained
// selection options to filter the query that generates insights. For
// instance, Enneagram allows fine-grained query by particular score
// results (e.g. Enneagram 3, Enneagram 4) while MyersBriggs does not.
// This is used in populateAssessmentSelfEditingOptions()
var _assessmentTypesFineGrainedDisplayClass = new Map();
_assessmentTypesFineGrainedDisplayClass.set('cliftonstrengths', 'display-none');
_assessmentTypesFineGrainedDisplayClass.set('myersbriggs', 'display-none');
_assessmentTypesFineGrainedDisplayClass.set('enneagram', 'display-block');

// Colors for the generated table; the order of elements corresponds
// to the order these columns are displayed in the insights table.
var _columnColorMap = new Map();
_columnColorMap.set('cliftonstrengths', '#0091bf');
_columnColorMap.set('myersbriggs', '#0091bf');
_columnColorMap.set('enneagram', '#0091bf');
_columnColorMap.set('superpowers', '#722b90');
_columnColorMap.set('kryptonite', '#722b90');
_columnColorMap.set('pfps', '#ec272b');         

// Used in getColumnWidths to support the generated table        
// NOTE that we purposefully extend the table past 100%.
// The order of elements corresponds to the order these columns are
// displayed in the insights table.
var _columnWidthRatios = new Map();
_columnWidthRatios.set('name', 11);
_columnWidthRatios.set('cliftonstrengths', 18);
_columnWidthRatios.set('myersbriggs', 15);
_columnWidthRatios.set('enneagram', 15);
_columnWidthRatios.set('superpowers', 36);
_columnWidthRatios.set('kryptonite', 36);
_columnWidthRatios.set('pfps', 36);